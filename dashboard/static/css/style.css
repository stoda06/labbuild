/* dashboard/static/css/style.css */

/* Import Montserrat font */
@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap');

/*
   -------------
   LIGHT MODE (DEFAULT)
   -------------
*/
:root { /* Define variables for easier management */
    --body-bg-light: #ECECEC;
    --body-color-light: #000000;
    --navbar-bg-light: #FFFFFF;
    --navbar-color-light: #000000;
    --card-bg-light: #FFFFFF;
    --card-color-light: #000000;
    --card-border-light: #DDDDDD;
    --card-header-bg-light: #F0F0F0;
    --card-header-color-light: #000000;
    --form-bg-light: #FFFFFF;
    --form-color-light: #000000;
    --form-border-light: #CED4DA;
    --table-border-light: #DDDDDD;
    --table-striped-bg-light: rgba(0, 0, 0, 0.03);
    --table-hover-bg-light: rgba(0, 0, 0, 0.04);

    --body-bg-dark: #121212;
    --body-color-dark: #E0E0E0; /* Slightly off-white */
    --navbar-bg-dark: #1e1e1e; /* Darker navbar */
    --navbar-color-dark: #E0E0E0;
    --card-bg-dark: #2A2A2A;
    --card-color-dark: #E0E0E0;
    --card-border-dark: #3A3A3A;
    --card-header-bg-dark: #383838;
    --card-header-color-dark: #E0E0E0;
    --form-bg-dark: #3A3A3A;
    --form-color-dark: #E0E0E0;
    --form-border-dark: #555555;
    --form-placeholder-dark: #AAAAAA;
    --table-border-dark: #3A3A3A;
    --table-striped-bg-dark: rgba(255, 255, 255, 0.05);
    --table-hover-bg-dark: rgba(255, 255, 255, 0.075);

    --status-running: #fd7e14;
    --status-completed: #198754;
    --status-completed_with_errors: #ffc107;
    --status-failed: #C62828;
    --status-failed_exception: #C62828;
    --status-terminated_by_user: #6c757d;
    --status-unknown: #6c757d;
    --status-skipped: #adb5bd;
    --status-success: #198754;

    --status-failed-dark-text: #ffbabb;
    --status-success-dark-text: #a6e9a6;
}

body {
    font-family: 'Montserrat', sans-serif;
    background-color: var(--body-bg-light);
    color: var(--body-color-light);
    margin: 0;
    padding: 0;
    transition: background-color 0.3s ease, color 0.3s ease;
    padding-top: 70px; /* Adjust based on navbar height */
    min-height: 100vh;
}

.navbar {
    background-color: var(--navbar-bg-light);
    padding: 0.5rem 1rem;
    color: var(--navbar-color-light);
    transition: background-color 0.3s ease, color 0.3s ease;
    position: fixed;
    top: 0;
    right: 0;
    left: 0;
    z-index: 1030;
    border-bottom: 1px solid var(--card-border-light); /* Use consistent border */
    display: flex; /* Ensure flex is enabled */
    align-items: center; /* Align items vertically */
}

.navbar-brand {
    font-weight: 700; /* Bold brand */
    color: inherit !important;
}

/* Container for nav links (replaces ul, aligns items) */
.navbar-links {
    display: flex;
    gap: 0.5rem; /* Spacing between links */
    margin-left: 1rem; /* Space from brand */
}

.nav-link {
    text-decoration: none;
    color: inherit !important; /* Use !important to override Bootstrap if needed */
    font-weight: bold;
    padding: 0.5rem 1rem;
    border-radius: 0.25rem;
    transition: background-color 0.2s ease;
}

.nav-link:hover {
    background-color: rgba(0, 0, 0, 0.05); /* slight highlight */
}

.card {
    border-radius: 0.5rem;
    background-color: var(--card-bg-light);
    color: var(--card-color-light);
    margin-bottom: 2rem;
    transition: background-color 0.3s ease, color 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.10); /* Softer shadow */
    border: 1px solid var(--card-border-light);
}

.card-header {
    background-color: var(--card-header-bg-light);
    color: var(--card-header-color-light);
    font-size: 1.2rem;
    font-weight: 700; /* Bold header */
    padding: 1rem 1.5rem;
    border-bottom: 1px solid var(--card-border-light);
    border-top-left-radius: calc(0.5rem - 1px); /* Adjust for border */
    border-top-right-radius: calc(0.5rem - 1px);
    transition: background-color 0.3s ease, color 0.3s ease;
}

/*
   -------------
   DARK MODE OVERRIDES
   -------------
*/
body.dark-mode {
    background-color: var(--body-bg-dark);
    color: var(--body-color-dark);
}
body.dark-mode .navbar {
    background-color: var(--navbar-bg-dark);
    color: var(--navbar-color-dark);
    border-bottom: 1px solid var(--card-border-dark);
}
body.dark-mode .nav-link:hover {
    background-color: rgba(255, 255, 255, 0.1);
}
body.dark-mode .card {
    background-color: var(--card-bg-dark);
    color: var(--card-color-dark);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25); /* Darker shadow */
    border: 1px solid var(--card-border-dark);
}
body.dark-mode .card-header {
    background-color: var(--card-header-bg-dark);
    color: var(--card-header-color-dark);
    border-bottom: 1px solid var(--card-border-dark);
}

/*
   -------------
   SHARED STYLES (Integrating with Bootstrap where possible)
   -------------
*/
.toggle-mode {
    cursor: pointer;
    padding: 0.5rem 0.75rem; /* Adjust padding */
    border: none;
    background: transparent;
    color: inherit;
    font-size: 1.2rem; /* Slightly smaller icon */
    outline: none;
    line-height: 1;
    margin-left: auto; /* Pushes toggle to the right */
    border-radius: 50%; /* Make it circular */
    transition: background-color 0.2s ease;
}
.toggle-mode:hover {
     background-color: rgba(128, 128, 128, 0.2); /* Subtle hover */
}
.toggle-mode i {
    transition: transform 0.5s ease;
    display: block; /* Prevents extra space */
}
.rotate {
    transform: rotate(360deg);
}

/* Use Bootstrap container */
.container {
    max-width: 1200px; /* Or your preferred width */
    margin: 0 auto;
    padding: 1rem;
}

.card-body {
    padding: 1.5rem;
}

.form-label {
    font-weight: 600; /* Bold labels */
    margin-bottom: 0.5rem;
    font-size: 0.9rem; /* Slightly smaller labels */
}

.form-select,
.form-control {
    border-radius: 0.25rem;
    border: 1px solid var(--form-border-light);
    padding: 0.5rem 0.75rem; /* Standard padding */
    font-size: 1rem;
    width: 100%;
    transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
    background-color: var(--form-bg-light);
    color: var(--form-color-light);
}
.form-control::placeholder {
     color: #6c757d; /* Bootstrap default placeholder color */
     opacity: 1;
}

body.dark-mode .form-select,
body.dark-mode .form-control {
    background-color: var(--form-bg-dark);
    color: var(--form-color-dark);
    border: 1px solid var(--form-border-dark);
}
body.dark-mode .form-control::placeholder {
    color: var(--form-placeholder-dark);
}
body.dark-mode .form-select {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23cccccc' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m2 5 6 6 6-6'/%3e%3c/svg%3e"); /* White arrow for dark select */
}

/* Buttons - Using reference style for danger, adapt others */
.btn {
    padding: 0.5rem 1rem;
    border: none;
    border-radius: 0.25rem;
    cursor: pointer;
    font-size: 1rem;
    font-weight: 600; /* Bold buttons */
    transition: background-color 0.2s ease, opacity 0.2s ease;
}
.btn:hover {
     opacity: 0.85;
}

.btn-primary { background-color: #0d6efd; color: #FFFFFF; }
.btn-secondary { background-color: #6c757d; color: #FFFFFF; }
.btn-success { background-color: #198754; color: #FFFFFF; }
.btn-danger { background-color: #C62828; color: #FFFFFF; } /* From reference */
.btn-danger:hover { background-color: #B71C1C; opacity: 1;} /* From reference */


/* Tables */
.table {
    --bs-table-color: inherit;
    --bs-table-bg: transparent;
    --bs-table-border-color: var(--table-border-light);
    --bs-table-striped-color: inherit;
    --bs-table-striped-bg: var(--table-striped-bg-light);
    --bs-table-hover-color: inherit;
    --bs-table-hover-bg: var(--table-hover-bg-light);
    margin-bottom: 0;
    border-collapse: separate; /* Needed for rounded corners if table has border */
    border-spacing: 0;
}
.table th, .table td {
    padding: 0.75rem;
    vertical-align: middle;
    border-bottom: 1px solid var(--table-border-light); /* Add bottom border to cells */
}
.table thead th {
     border-bottom-width: 2px; /* Thicker border for header */
     font-weight: 700;
     border-top: 0; /* Remove top border on header */
}
/* Remove bottom border from last row's cells */
.table > :not(caption) > :last-child > * {
     border-bottom-width: 0;
}

body.dark-mode .table {
    --bs-table-border-color: var(--table-border-dark);
    --bs-table-striped-bg: var(--table-striped-bg-dark);
    --bs-table-hover-bg: var(--table-hover-bg-dark);
}
body.dark-mode .table th, body.dark-mode .table td {
     border-bottom: 1px solid var(--table-border-dark);
}

/* Status Colors */
.status-running { color: var(--status-running); }
.status-completed { color: var(--status-completed); }
.status-completed_with_errors { color: var(--status-completed_with_errors); }
.status-failed { color: var(--status-failed); }
.status-failed_exception { color: var(--status-failed_exception); }
.status-terminated_by_user { color: var(--status-terminated_by_user); }
.status-unknown { color: var(--status-unknown); }
.status-skipped { color: var(--status-skipped); }
.status-success { color: var(--status-success); }

/* Row specific text colors for dark mode if needed */
body.dark-mode .table-danger > :not(caption) > * > * { color: var(--status-failed-dark-text) !important; }
body.dark-mode .table-success > :not(caption) > * > * { color: var(--status-success-dark-text) !important; }

/* Align spinner */
.status-cell .spinner-border {
    vertical-align: text-bottom;
    width: 1rem; /* Smaller spinner */
    height: 1rem;
    border-width: 0.15em;
}

/* Log Detail Page Specifics */
.run-summary-card p, .pod-status-card p {
    margin-bottom: 0.6rem;
}
.pod-status-card pre {
    max-height: 250px;
    overflow-y: auto;
    background-color: rgba(0,0,0,0.04);
    padding: 0.75rem;
    border-radius: 4px;
    font-size: 0.85rem;
    white-space: pre-wrap; /* Wrap long lines */
    word-wrap: break-word;
}
body.dark-mode .pod-status-card pre {
     background-color: rgba(255,255,255,0.06);
}

/* Responsive Adjustments */
@media (max-width: 768px) {
    body {
        padding-top: 60px; /* Adjust if navbar height changes */
    }
    .card {
        padding: 1rem;
        margin-bottom: 1.5rem;
    }
     .card-header {
         font-size: 1.1rem;
         padding: 0.8rem 1rem;
    }
    .card-body {
         padding: 1rem;
    }
    .toggle-mode {
         font-size: 1.1rem;
         padding: 0.4rem 0.6rem;
    }
}